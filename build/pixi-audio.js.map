{"version":3,"sources":["webpack:///build/pixi-audio.js","webpack:///webpack/bootstrap 69e2f215ac02849f061c","webpack:///./src/utils.js","webpack:///external \"PIXI\"","webpack:///./src/AudioManager.js","webpack:///./src/Audio.js","webpack:///./src/audioParser.js","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_setAudioExt","ext","isWebAudioSupported","_pixi","loaders","Resource","setExtensionXhrType","XHR_RESPONSE_TYPE","BUFFER","setExtensionLoadType","LOAD_TYPE","AUDIO","Object","defineProperty","value","isHTMLAudioSupported","window","Audio","webAudioContext","AudioContext","webkitAudioContext","isAudioSupported","isMp3Supported","isOggSupported","isWavSupported","isM4aSupported","createGainNode","globalWebAudioContext","audio","document","createElement","canPlayType","ctx","createGain","PIXI","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_utils","_utils2","_Audio","_Audio2","AudioManager","this","enabled","sounds","context","gainNode","connect","destination","name","audios","push","index","indexOf","splice","len","mute","muteAll","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_pixi2","_PIXI$utils$EventEmit","data","manager","_this","getPrototypeOf","_loop","_paused","_muted","_volume","_startTime","_lastPauseTime","_offsetTime","playing","_fx","_music","addEventListener","_onEnd","bind","pause","paused","createBufferSource","start","noteOn","stop","noteOff","buffer","loop","currentTime","onended","gain","muted","volume","src","children","preload","load","play","removeAudio","emit","reset","get","set","duration","music","fx","utils","EventEmitter","audioParser","console","log","resource","next","_getExt","url","_allowedExt","_canPlay","decodeAudioData","_AudioManager2","audioUrlParser","resourceUrl","undefined","split","shift","pop","toLowerCase","canPlay","_AudioManager","_typeof","Symbol","iterator","_audioParser","Loader","addPixiMiddleware","baseAdd","add","options","cb","toString","loader"],"mappings":"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","file":"build/pixi-audio.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(6);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(2);\n\t\n\tvar isHTMLAudioSupported = !!window.Audio,\n\t    webAudioContext = window.AudioContext || window.webkitAudioContext,\n\t    isWebAudioSupported = !!webAudioContext,\n\t    isAudioSupported = isWebAudioSupported || isHTMLAudioSupported,\n\t    isMp3Supported = false,\n\t    isOggSupported = false,\n\t    isWavSupported = false,\n\t    isM4aSupported = false,\n\t    createGainNode = null,\n\t    globalWebAudioContext = isWebAudioSupported ? new webAudioContext() : null;\n\t\n\tif (isAudioSupported) {\n\t  var audio = document.createElement(\"audio\");\n\t  isMp3Supported = audio.canPlayType('audio/mpeg;') !== \"\";\n\t  isOggSupported = audio.canPlayType('audio/ogg; codecs=\"vorbis\"') !== \"\";\n\t  isWavSupported = audio.canPlayType('audio/wav') !== \"\";\n\t  isM4aSupported = audio.canPlayType('audio/mp4; codecs=\"mp4a.40.5\"') !== \"\";\n\t\n\t  //Add some config to the pixi loader\n\t  if (isMp3Supported) _setAudioExt(\"mp3\");\n\t  if (isOggSupported) _setAudioExt(\"ogg\");\n\t  if (isWavSupported) _setAudioExt(\"wav\");\n\t  if (isM4aSupported) _setAudioExt(\"m4a\");\n\t\n\t  if (isWebAudioSupported) {\n\t    createGainNode = function createGainNode(ctx) {\n\t      return ctx.createGain ? ctx.createGain() : ctx.createGainNode();\n\t    };\n\t  }\n\t}\n\t\n\tfunction _setAudioExt(ext) {\n\t  if (isWebAudioSupported) {\n\t    _pixi.loaders.Resource.setExtensionXhrType(ext, _pixi.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER);\n\t  } else {\n\t    _pixi.loaders.Resource.setExtensionLoadType(ext, _pixi.loaders.Resource.LOAD_TYPE.AUDIO);\n\t  }\n\t}\n\t\n\texports.default = {\n\t  isHTMLAudioSupported: isHTMLAudioSupported,\n\t  webAudioContext: webAudioContext,\n\t  isWebAudioSupported: isWebAudioSupported,\n\t  isAudioSupported: isAudioSupported,\n\t  isMp3Supported: isMp3Supported,\n\t  isOggSupported: isOggSupported,\n\t  isWavSupported: isWavSupported,\n\t  isM4aSupported: isM4aSupported,\n\t  globalWebAudioContext: globalWebAudioContext,\n\t  createGainNode: createGainNode\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = PIXI;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _Audio = __webpack_require__(4);\n\t\n\tvar _Audio2 = _interopRequireDefault(_Audio);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AudioManager = function () {\n\t  function AudioManager() {\n\t    _classCallCheck(this, AudioManager);\n\t\n\t    this.enabled = _utils2.default.isAudioSupported;\n\t    this.sounds = [];\n\t\n\t    if (_utils2.default.isWebAudioSupported) {\n\t      this.context = _utils2.default.globalWebAudioContext;\n\t      this.gainNode = _utils2.default.createGainNode(this.context);\n\t      this.gainNode.connect(this.context.destination);\n\t    }\n\t  }\n\t\n\t  _createClass(AudioManager, [{\n\t    key: 'getAudio',\n\t    value: function getAudio(name) {\n\t      var audio = new _Audio2.default(AudioManager.audios[name], this);\n\t      this.sounds.push(audio);\n\t      return audio;\n\t    }\n\t  }, {\n\t    key: 'removeAudio',\n\t    value: function removeAudio(audio) {\n\t      var index = this.sounds.indexOf(audio);\n\t      if (index !== -1) {\n\t        this.sounds.splice(index, 1);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'muteAll',\n\t    value: function muteAll(value) {\n\t      value = value === false;\n\t      var len = this.sounds.length;\n\t      for (var i = 0; i < len; i++) {\n\t        this.sounds[i].mute = value;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'unmuteAll',\n\t    value: function unmuteAll() {\n\t      return this.muteAll(false);\n\t    }\n\t  }]);\n\t\n\t  return AudioManager;\n\t}();\n\t\n\tAudioManager.audios = {};\n\texports.default = AudioManager;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(2);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Audio = function (_PIXI$utils$EventEmit) {\n\t  _inherits(Audio, _PIXI$utils$EventEmit);\n\t\n\t  function Audio(data, manager) {\n\t    _classCallCheck(this, Audio);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Audio).call(this));\n\t\n\t    _this._loop = false;\n\t    _this._paused = false;\n\t    _this._muted = false;\n\t    _this._volume = 1;\n\t    _this._startTime = 0;\n\t    _this._lastPauseTime = 0;\n\t    _this._offsetTime = 0;\n\t    _this.playing = false;\n\t    _this._fx = true;\n\t    _this._music = false;\n\t\n\t    _this.manager = manager;\n\t    _this.data = data;\n\t\n\t    if (!_utils2.default.isWebAudioSupported) {\n\t      _this.audio = new window.Audio();\n\t      _this.audio.addEventListener('ended', _this._onEnd.bind(_this));\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Audio, [{\n\t    key: 'play',\n\t    value: function play(pause) {\n\t      if (!pause && this.paused || !pause && this.playing) return this;\n\t      this.playing = true;\n\t\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio = this.manager.context.createBufferSource();\n\t        this.audio.start = this.audio.start || this.audio.noteOn;\n\t        this.audio.stop = this.audio.stop || this.audio.noteOff;\n\t\n\t        this.audio.buffer = this.data;\n\t        this.audio.loop = this.loop;\n\t        this._startTime = this.manager.context.currentTime;\n\t\n\t        this.audio.onended = this._onEnd.bind(this);\n\t        this.audio.gainNode = _utils2.default.createGainNode(this.manager.context);\n\t        this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n\t        this.audio.gainNode.connect(this.manager.gainNode);\n\t\n\t        this.audio.connect(this.audio.gainNode);\n\t        this.audio.start(0, pause ? this._lastPauseTime : null);\n\t      } else {\n\t        this.audio.src = this.data.children[0].src;\n\t        this.audio.preload = \"auto\";\n\t        this.audio.volume = this.muted ? 0 : this.volume;\n\t        this.audio.load();\n\t        this.audio.play();\n\t      }\n\t\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'stop',\n\t    value: function stop() {\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio.stop(0);\n\t      } else {\n\t        this.audio.pause();\n\t        this.audio.currentTime = 0;\n\t      }\n\t      this.playing = false;\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this._startTime = 0;\n\t      this._lastPauseTime = 0;\n\t      this._offsetTime = 0;\n\t\n\t      if (_utils2.default.isWebAudioSupported) this.audio = null;\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      this.manager.removeAudio(this);\n\t    }\n\t  }, {\n\t    key: '_onEnd',\n\t    value: function _onEnd() {\n\t      this.emit('end');\n\t      if (!_utils2.default.isWebAudioSupported) {\n\t        if (this.loop) {\n\t          this.audio.currentTime = 0;\n\t          this.audio.play();\n\t        } else {\n\t          this.reset();\n\t        }\n\t      } else {\n\t        if (!this.paused) this.reset();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'paused',\n\t    get: function get() {\n\t      return this._paused;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._paused) return;\n\t      if (value) {\n\t        if (_utils2.default.isWebAudioSupported) {\n\t          this._offsetTime += this.manager.context.currentTime - this._startTime;\n\t          this._lastPauseTime = this._offsetTime % this.audio.buffer.duration;\n\t          this.audio.stop(0);\n\t        } else {\n\t          this.audio.pause();\n\t        }\n\t      } else {\n\t        if (_utils2.default.isWebAudioSupported) {\n\t          this.play(true);\n\t        } else {\n\t          this.audio.play();\n\t        }\n\t      }\n\t      this._paused = value;\n\t    }\n\t  }, {\n\t    key: 'loop',\n\t    get: function get() {\n\t      return this._loop;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._loop) return;\n\t      this._loop = value;\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio.loop = value;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'volume',\n\t    get: function get() {\n\t      return this._volume;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._volume) return;\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n\t      } else {\n\t        this.audio.volume = this.muted ? 0 : this.volume;\n\t      }\n\t      this._volume = value;\n\t    }\n\t  }, {\n\t    key: 'fx',\n\t    get: function get() {\n\t      return this._fx;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._fx) return;\n\t      this.music = !value;\n\t      this._fx = value;\n\t    }\n\t  }, {\n\t    key: 'music',\n\t    get: function get() {\n\t      return this._music;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._music) return;\n\t      this.fx = !value;\n\t      this._music = value;\n\t    }\n\t  }, {\n\t    key: 'muted',\n\t    get: function get() {\n\t      return this._muted;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._muted) return;\n\t      this._muted = value;\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio.gainNode.gain.value = this._muted ? 0 : this.volume;\n\t      } else {\n\t        this.audio.volume = this._muted ? 0 : this.volume;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Audio;\n\t}(_pixi2.default.utils.EventEmitter);\n\t\n\texports.default = Audio;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.audioParser = audioParser;\n\texports.audioUrlParser = audioUrlParser;\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _AudioManager = __webpack_require__(3);\n\t\n\tvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _allowedExt = [\"m4a\", \"ogg\", \"mp3\", \"wav\"];\n\t\n\tfunction audioParser() {\n\t  console.log('parser');\n\t  return function (resource, next) {\n\t    if (!_utils2.default.isAudioSupported || !resource.data) return next();\n\t\n\t    var ext = _getExt(resource.url);\n\t    if (_allowedExt.indexOf(ext) === -1 || !_canPlay(ext)) return next();\n\t\n\t    var name = resource.name || resource.url;\n\t    if (_utils2.default.isWebAudioSupported) {\n\t      _utils2.default.globalWebAudioContext.decodeAudioData(resource.data, function (buffer) {\n\t        _AudioManager2.default.audios[name] = buffer;\n\t        next();\n\t      });\n\t    } else {\n\t      _AudioManager2.default.audios[name] = resource.data;\n\t      return next();\n\t    }\n\t  };\n\t}\n\t\n\tfunction audioUrlParser(resourceUrl) {\n\t  var url = undefined;\n\t  for (var i = 0; i < resourceUrl.length; i++) {\n\t    var ext = _getExt(resourceUrl[i]);\n\t    if (_allowedExt.indexOf(ext) === -1) break;\n\t    if (_canPlay(ext)) {\n\t      url = resourceUrl[i];\n\t      break;\n\t    }\n\t  }\n\t\n\t  return url;\n\t}\n\t\n\tfunction _getExt(url) {\n\t  return url.split('?').shift().split('.').pop().toLowerCase();\n\t}\n\t\n\tfunction _canPlay(ext) {\n\t  var canPlay = false;\n\t  switch (ext) {\n\t    case \"m4a\":\n\t      canPlay = _utils2.default.isM4aSupported;break;\n\t    case \"mp3\":\n\t      canPlay = _utils2.default.isMp3Supported;break;\n\t    case \"ogg\":\n\t      canPlay = _utils2.default.isOggSupported;break;\n\t    case \"wav\":\n\t      canPlay = _utils2.default.isWavSupported;break;\n\t  }\n\t\n\t  return canPlay;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(2);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _AudioManager = __webpack_require__(3);\n\t\n\tvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\t\n\tvar _audioParser = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (!_pixi2.default.AudioManager) {\n\t  (function () {\n\t    var Loader = _pixi2.default.loaders.Loader;\n\t    Loader.addPixiMiddleware(_audioParser.audioParser);\n\t\n\t    var baseAdd = Loader.prototype.add;\n\t    Loader.prototype.add = function (name, url, options, cb) {\n\t      console.log('1', name, url, options);\n\t      if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n\t        if (Object.prototype.toString.call(name.url) === \"[object Array]\") {\n\t          name.url = (0, _audioParser.audioUrlParser)(name.url);\n\t        }\n\t      }\n\t\n\t      console.log('2', name, url, options);\n\t\n\t      if (Object.prototype.toString.call(url) === \"[object Array]\") {\n\t        url = (0, _audioParser.audioUrlParser)(url);\n\t      }\n\t\n\t      console.log('3', name, url, options);\n\t      return baseAdd.call(this, name, url, options, cb);\n\t    };\n\t\n\t    _pixi2.default.loader = new _pixi2.default.loaders.Loader();\n\t    _pixi2.default.AudioManager = _AudioManager2.default;\n\t    _pixi2.default.loaders.audioParser = _audioParser.audioParser;\n\t    _pixi2.default.audio = new _AudioManager2.default();\n\t  })();\n\t}\n\t\n\texports.default = {\n\t  utils: _utils2.default,\n\t  audioParser: _audioParser.audioParser,\n\t  AudioManager: _AudioManager2.default\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** build/pixi-audio.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 69e2f215ac02849f061c\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar isHTMLAudioSupported = !!window.Audio,\n    webAudioContext = window.AudioContext || window.webkitAudioContext,\n    isWebAudioSupported = !!webAudioContext,\n    isAudioSupported = isWebAudioSupported || isHTMLAudioSupported,\n    isMp3Supported = false,\n    isOggSupported = false,\n    isWavSupported = false,\n    isM4aSupported = false,\n    createGainNode = null,\n    globalWebAudioContext = isWebAudioSupported ? new webAudioContext() : null;\n\nif (isAudioSupported) {\n  var audio = document.createElement(\"audio\");\n  isMp3Supported = audio.canPlayType('audio/mpeg;') !== \"\";\n  isOggSupported = audio.canPlayType('audio/ogg; codecs=\"vorbis\"') !== \"\";\n  isWavSupported = audio.canPlayType('audio/wav') !== \"\";\n  isM4aSupported = audio.canPlayType('audio/mp4; codecs=\"mp4a.40.5\"') !== \"\";\n\n  //Add some config to the pixi loader\n  if (isMp3Supported) _setAudioExt(\"mp3\");\n  if (isOggSupported) _setAudioExt(\"ogg\");\n  if (isWavSupported) _setAudioExt(\"wav\");\n  if (isM4aSupported) _setAudioExt(\"m4a\");\n\n  if (isWebAudioSupported) {\n    createGainNode = function createGainNode(ctx) {\n      return ctx.createGain ? ctx.createGain() : ctx.createGainNode();\n    };\n  }\n}\n\nfunction _setAudioExt(ext) {\n  if (isWebAudioSupported) {\n    _pixi.loaders.Resource.setExtensionXhrType(ext, _pixi.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER);\n  } else {\n    _pixi.loaders.Resource.setExtensionLoadType(ext, _pixi.loaders.Resource.LOAD_TYPE.AUDIO);\n  }\n}\n\nexports.default = {\n  isHTMLAudioSupported: isHTMLAudioSupported,\n  webAudioContext: webAudioContext,\n  isWebAudioSupported: isWebAudioSupported,\n  isAudioSupported: isAudioSupported,\n  isMp3Supported: isMp3Supported,\n  isOggSupported: isOggSupported,\n  isWavSupported: isWavSupported,\n  isM4aSupported: isM4aSupported,\n  globalWebAudioContext: globalWebAudioContext,\n  createGainNode: createGainNode\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = PIXI;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"PIXI\"\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Audio = require('./Audio');\n\nvar _Audio2 = _interopRequireDefault(_Audio);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AudioManager = function () {\n  function AudioManager() {\n    _classCallCheck(this, AudioManager);\n\n    this.enabled = _utils2.default.isAudioSupported;\n    this.sounds = [];\n\n    if (_utils2.default.isWebAudioSupported) {\n      this.context = _utils2.default.globalWebAudioContext;\n      this.gainNode = _utils2.default.createGainNode(this.context);\n      this.gainNode.connect(this.context.destination);\n    }\n  }\n\n  _createClass(AudioManager, [{\n    key: 'getAudio',\n    value: function getAudio(name) {\n      var audio = new _Audio2.default(AudioManager.audios[name], this);\n      this.sounds.push(audio);\n      return audio;\n    }\n  }, {\n    key: 'removeAudio',\n    value: function removeAudio(audio) {\n      var index = this.sounds.indexOf(audio);\n      if (index !== -1) {\n        this.sounds.splice(index, 1);\n      }\n    }\n  }, {\n    key: 'muteAll',\n    value: function muteAll(value) {\n      value = value === false;\n      var len = this.sounds.length;\n      for (var i = 0; i < len; i++) {\n        this.sounds[i].mute = value;\n      }\n    }\n  }, {\n    key: 'unmuteAll',\n    value: function unmuteAll() {\n      return this.muteAll(false);\n    }\n  }]);\n\n  return AudioManager;\n}();\n\nAudioManager.audios = {};\nexports.default = AudioManager;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/AudioManager.js\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Audio = function (_PIXI$utils$EventEmit) {\n  _inherits(Audio, _PIXI$utils$EventEmit);\n\n  function Audio(data, manager) {\n    _classCallCheck(this, Audio);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Audio).call(this));\n\n    _this._loop = false;\n    _this._paused = false;\n    _this._muted = false;\n    _this._volume = 1;\n    _this._startTime = 0;\n    _this._lastPauseTime = 0;\n    _this._offsetTime = 0;\n    _this.playing = false;\n    _this._fx = true;\n    _this._music = false;\n\n    _this.manager = manager;\n    _this.data = data;\n\n    if (!_utils2.default.isWebAudioSupported) {\n      _this.audio = new window.Audio();\n      _this.audio.addEventListener('ended', _this._onEnd.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(Audio, [{\n    key: 'play',\n    value: function play(pause) {\n      if (!pause && this.paused || !pause && this.playing) return this;\n      this.playing = true;\n\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio = this.manager.context.createBufferSource();\n        this.audio.start = this.audio.start || this.audio.noteOn;\n        this.audio.stop = this.audio.stop || this.audio.noteOff;\n\n        this.audio.buffer = this.data;\n        this.audio.loop = this.loop;\n        this._startTime = this.manager.context.currentTime;\n\n        this.audio.onended = this._onEnd.bind(this);\n        this.audio.gainNode = _utils2.default.createGainNode(this.manager.context);\n        this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n        this.audio.gainNode.connect(this.manager.gainNode);\n\n        this.audio.connect(this.audio.gainNode);\n        this.audio.start(0, pause ? this._lastPauseTime : null);\n      } else {\n        this.audio.src = this.data.children[0].src;\n        this.audio.preload = \"auto\";\n        this.audio.volume = this.muted ? 0 : this.volume;\n        this.audio.load();\n        this.audio.play();\n      }\n\n      return this;\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio.stop(0);\n      } else {\n        this.audio.pause();\n        this.audio.currentTime = 0;\n      }\n      this.playing = false;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._startTime = 0;\n      this._lastPauseTime = 0;\n      this._offsetTime = 0;\n\n      if (_utils2.default.isWebAudioSupported) this.audio = null;\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      this.manager.removeAudio(this);\n    }\n  }, {\n    key: '_onEnd',\n    value: function _onEnd() {\n      this.emit('end');\n      if (!_utils2.default.isWebAudioSupported) {\n        if (this.loop) {\n          this.audio.currentTime = 0;\n          this.audio.play();\n        } else {\n          this.reset();\n        }\n      } else {\n        if (!this.paused) this.reset();\n      }\n    }\n  }, {\n    key: 'paused',\n    get: function get() {\n      return this._paused;\n    },\n    set: function set(value) {\n      if (value === this._paused) return;\n      if (value) {\n        if (_utils2.default.isWebAudioSupported) {\n          this._offsetTime += this.manager.context.currentTime - this._startTime;\n          this._lastPauseTime = this._offsetTime % this.audio.buffer.duration;\n          this.audio.stop(0);\n        } else {\n          this.audio.pause();\n        }\n      } else {\n        if (_utils2.default.isWebAudioSupported) {\n          this.play(true);\n        } else {\n          this.audio.play();\n        }\n      }\n      this._paused = value;\n    }\n  }, {\n    key: 'loop',\n    get: function get() {\n      return this._loop;\n    },\n    set: function set(value) {\n      if (value === this._loop) return;\n      this._loop = value;\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio.loop = value;\n      }\n    }\n  }, {\n    key: 'volume',\n    get: function get() {\n      return this._volume;\n    },\n    set: function set(value) {\n      if (value === this._volume) return;\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n      } else {\n        this.audio.volume = this.muted ? 0 : this.volume;\n      }\n      this._volume = value;\n    }\n  }, {\n    key: 'fx',\n    get: function get() {\n      return this._fx;\n    },\n    set: function set(value) {\n      if (value === this._fx) return;\n      this.music = !value;\n      this._fx = value;\n    }\n  }, {\n    key: 'music',\n    get: function get() {\n      return this._music;\n    },\n    set: function set(value) {\n      if (value === this._music) return;\n      this.fx = !value;\n      this._music = value;\n    }\n  }, {\n    key: 'muted',\n    get: function get() {\n      return this._muted;\n    },\n    set: function set(value) {\n      if (value === this._muted) return;\n      this._muted = value;\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio.gainNode.gain.value = this._muted ? 0 : this.volume;\n      } else {\n        this.audio.volume = this._muted ? 0 : this.volume;\n      }\n    }\n  }]);\n\n  return Audio;\n}(_pixi2.default.utils.EventEmitter);\n\nexports.default = Audio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Audio.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.audioParser = audioParser;\nexports.audioUrlParser = audioUrlParser;\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _AudioManager = require('./AudioManager');\n\nvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _allowedExt = [\"m4a\", \"ogg\", \"mp3\", \"wav\"];\n\nfunction audioParser() {\n  console.log('parser');\n  return function (resource, next) {\n    if (!_utils2.default.isAudioSupported || !resource.data) return next();\n\n    var ext = _getExt(resource.url);\n    if (_allowedExt.indexOf(ext) === -1 || !_canPlay(ext)) return next();\n\n    var name = resource.name || resource.url;\n    if (_utils2.default.isWebAudioSupported) {\n      _utils2.default.globalWebAudioContext.decodeAudioData(resource.data, function (buffer) {\n        _AudioManager2.default.audios[name] = buffer;\n        next();\n      });\n    } else {\n      _AudioManager2.default.audios[name] = resource.data;\n      return next();\n    }\n  };\n}\n\nfunction audioUrlParser(resourceUrl) {\n  var url = undefined;\n  for (var i = 0; i < resourceUrl.length; i++) {\n    var ext = _getExt(resourceUrl[i]);\n    if (_allowedExt.indexOf(ext) === -1) break;\n    if (_canPlay(ext)) {\n      url = resourceUrl[i];\n      break;\n    }\n  }\n\n  return url;\n}\n\nfunction _getExt(url) {\n  return url.split('?').shift().split('.').pop().toLowerCase();\n}\n\nfunction _canPlay(ext) {\n  var canPlay = false;\n  switch (ext) {\n    case \"m4a\":\n      canPlay = _utils2.default.isM4aSupported;break;\n    case \"mp3\":\n      canPlay = _utils2.default.isMp3Supported;break;\n    case \"ogg\":\n      canPlay = _utils2.default.isOggSupported;break;\n    case \"wav\":\n      canPlay = _utils2.default.isWavSupported;break;\n  }\n\n  return canPlay;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/audioParser.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _AudioManager = require('./AudioManager');\n\nvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\nvar _audioParser = require('./audioParser');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (!_pixi2.default.AudioManager) {\n  (function () {\n    var Loader = _pixi2.default.loaders.Loader;\n    Loader.addPixiMiddleware(_audioParser.audioParser);\n\n    var baseAdd = Loader.prototype.add;\n    Loader.prototype.add = function (name, url, options, cb) {\n      console.log('1', name, url, options);\n      if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n        if (Object.prototype.toString.call(name.url) === \"[object Array]\") {\n          name.url = (0, _audioParser.audioUrlParser)(name.url);\n        }\n      }\n\n      console.log('2', name, url, options);\n\n      if (Object.prototype.toString.call(url) === \"[object Array]\") {\n        url = (0, _audioParser.audioUrlParser)(url);\n      }\n\n      console.log('3', name, url, options);\n      return baseAdd.call(this, name, url, options, cb);\n    };\n\n    _pixi2.default.loader = new _pixi2.default.loaders.Loader();\n    _pixi2.default.AudioManager = _AudioManager2.default;\n    _pixi2.default.loaders.audioParser = _audioParser.audioParser;\n    _pixi2.default.audio = new _AudioManager2.default();\n  })();\n}\n\nexports.default = {\n  utils: _utils2.default,\n  audioParser: _audioParser.audioParser,\n  AudioManager: _AudioManager2.default\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}